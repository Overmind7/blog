# const型数据

## 1. const指针

### 1.1 指向常量的指针变量



### 1.2 常指针



### 1.3 指向常量的常指针





## 2. 常对象





## 3. 常对象成员



## 4. 指向对象的常指针

**将指针变量声明为const型，这样指针变量始终保持为初值，不能改变，即指向不变**

```cpp
Time t1(10,12,15),t2;   //定义对象
Time *const ptr1;       //const位置在指针变量名前，指定 ptr1 是常指针变量
ptr1 = &t1;             //ptr1 指向对象t1，此后不能改变指向
ptr1 = &t2;             //错误，ptr1不能改变指向
```







## 5. 指向常对象的指针变量

> 区别于 指向常变量的指针





## 6. 对象的常引用

一个变量的引用就是一个变量的别名

- 引用实际上是一个指针变量，用来存放该变量的地址，
-  如果形参为变量的引用，实参为变量名，在调用函数时虚实结合，把实参变量的地址传递给形参（引用），这样引用就指向实参变量。
- 对象的引用与此类似

把引用声明为 const 即常引用

举例：

```cpp
#include <iostream>
using namespace std;
class Time{
	public:
		Time(int,int,int);       //声明构造函数
		int hour;
		int minute;
		int sec;
};
Time::Time(int h,int m,int s){   //定义构造函数
	hour = h;
	minute = m;
	sec = s;
}
void fun(Time &t){              //形参 t 是 Time 类对象的引用
	t.hour = 18;
}
int main(){
	Time t1(10,13,56);          //定义 Time类对象 t1
	fun(t1);                    //实参是 Time 类对象，可以通过引用来修改实参t1的值
	cout <<t1.hour<<endl;
	return 0;
}
```



## 7. 小结

|           形式           |                             含义                             |
| :----------------------: | :----------------------------------------------------------: |
|     `Time const t;`      |            t 是常对象，其值在任何情况下都不能改变            |
| `void Time::fun()const;` | fun 是 Time 类中的常成员函数，可以引用，但不能修改本类中的数据成员 |
|    `Time * const p;`     | p 是指向 Time 类对象的'**常指针**'变量，p 的值（p 的指向）不能改变 |
|     `const Time *p;`     | p 是指向 Time 类'**常对象**'的指针变量，p 指向的类对象的值不能通过 p 来改变 |
|  `const Time &t1 = t;`   | t1 是 Time 类对象 t 的引用，二者指向同一储存空间，t 的值不能改变 |
|    `fun(const 形参)`     | 一般作用于引用或者指针形参，防止程序改变执行的对象，提高函数的可维护性 |

