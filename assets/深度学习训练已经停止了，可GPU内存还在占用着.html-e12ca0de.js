import{_ as o,r as s,o as t,c as l,a as e,d as a,b as p,e as r}from"./app-04b0d2b0.js";const i={},c=e("h1",{id:"深度学习训练已经停止了-可gpu内存还在占用着-怎么办",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#深度学习训练已经停止了-可gpu内存还在占用着-怎么办","aria-hidden":"true"},"#"),a(" 深度学习训练已经停止了，可GPU内存还在占用着，怎么办？")],-1),d={href:"https://blog.51cto.com/u_16159492/6479650",target:"_blank",rel:"noopener noreferrer"},_=r('<p>该情况通常发生在非正常中断GPU下发生，如手动暂停了训练。然后发现，再一次训练的时候出现错误：</p><p>RuntimeError: CUDA out of memory. Tried to allocate 736.00 MiB (GPU 0; 10.92 GiB total capacity; 2.26 GiB already allocated; 412.38 MiB free; 2.27 GiB reserved in total by PyTorch)</p><p>在终端查看GPU使用情况：</p><ol><li><p>查看GPU进程ID</p></li><li><p>通过<code>nvidia-smi</code>查看， PID号就是进程号，我这里是1297</p></li><li><p>如果上述办法看不到PID，输入</p></li></ol><pre><code>```bash\nfuser -v /dev/nvidia*\n```\n\n   查看\n</code></pre><ol start="2"><li>杀死进程 <code>kill -9 PID</code></li></ol><p>就恢复了。</p><p>使用 <code>kill -9 PID</code> 进程杀不死，怎么办，如下图</p><p>如果遇到这种情况，肯定还有隐藏进程</p><p>终端输入：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">ps</span> <span class="token parameter variable">-A</span> -ostat,ppid,pid,cmd <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-e</span> <span class="token string">&#39;^[Zz]&#39;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>发现：不仅有13754， 还有13728.</p><p>于是 把13728 kill 掉： kill -9 13728</p><p>再次运行 nvidia-smi 发现进程被杀死了。</p><p>如果以上没解决问题。重启吧， sudo reboot</p>',15);function u(m,h){const n=s("ExternalLinkIcon");return t(),l("div",null,[c,e("blockquote",null,[e("p",null,[e("a",d,[a("深度学习训练已经停止了，可GPU内存还在占用着，怎么办？_wx6487d58cca837的技术博客_51CTO博客"),p(n)])])]),_])}const k=o(i,[["render",u],["__file","深度学习训练已经停止了，可GPU内存还在占用着.html.vue"]]);export{k as default};
